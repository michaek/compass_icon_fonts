$compass-icon-fonts-horizontalPadding: 0.2em !default;

@mixin compass-icon-fonts-family() {
  @include font-face($compass-icon-fonts-family, $compass-icon-fonts-files);

  %compass-icon-fonts-#{$compass-icon-fonts-class} {
    font-size: $compass-icon-fonts-size;
    font-family: $compass-icon-fonts-family;
  }

  %compass-icon-fonts-#{$compass-icon-fonts-class}-before {
    padding-right: $compass-icon-fonts-horizontalPadding;
  }

  %compass-icon-fonts-#{$compass-icon-fonts-class}-after {
    padding-left: $compass-icon-fonts-horizontalPadding;
  }

}

@mixin compass-icon-fonts-set($set: all, $prefix: $compass-icon-fonts-class, $append: false) {
  @for $i from 1 through length($compass-icon-fonts-characters)/2 {
    $keyword: nth($compass-icon-fonts-characters, ($i*2 - 1));
    $character: nth($compass-icon-fonts-characters, $i*2);

    @if $set == "all" or index($set, $keyword) {
      %#{$compass-icon-fonts-class}-#{$keyword} {
        @extend %compass-icon-fonts-#{$compass-icon-fonts-class};
        content: $character;
      }

      .#{$prefix}-#{$keyword}:before {
        @extend %compass-icon-fonts-#{$compass-icon-fonts-class}-before;
        @extend %#{$compass-icon-fonts-class}-#{$keyword};
      }

      @if $append {
        .#{$prefix}-#{$keyword}-append:after {
          @extend %compass-icon-fonts-#{$compass-icon-fonts-class}-after;
          @extend %#{$compass-icon-fonts-class}-#{$keyword};
        }
      }
    }
  }
}